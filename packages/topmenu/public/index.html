<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2196f3">
    <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap:; img-src * 'self' data: blob:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <title>Topmenu</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>
<body>

<div id="root"></div>

<script type="text/javascript" src="http://localhost:8000/index.js"></script>


<style>
.picker {
    display: inline-grid;
    position: relative;
    font-size: 28px;
    line-height: 40px;
    font-weight: 400;
    box-sizing: border-box;
    font-family: 'San Francisco Text', sans-serif;
}

.picker:before, .picker:after {
    content: "";
    position: absolute;
    width: 100%;
    height: 80px;
    pointer-events: none;
    box-sizing: border-box;
}

.picker:before {
    top: 0;
    background: linear-gradient(white, rgba(255, 255, 255, 0.7));
    border-bottom: 1px solid #eee;
}

.picker:after {
    bottom: 0;
    background: linear-gradient(rgba(255, 255, 255, 0.7), white);
    border-top: 1px solid #eee;
}

.picker ul {
    max-height: 200px;
    padding: 80px 0 80px 0;
    overflow-y: scroll;
    box-sizing: border-box;
    list-style: none;
    margin: 0;
    width: 100%;

    -ms-overflow-style: none;
    scrollbar-width: none;
}

.picker-grid {
    scroll-snap-type: y mandatory;
}

.picker ul::-webkit-scrollbar {
    display: none;
    width: 0;
}

.picker ul::-moz-scrollbar {
    width: 0;
}

.picker li {
    box-sizing: border-box;
    scroll-snap-align: center;
    text-align: center;
}
</style>
<div class="picker" id="picker">
    <ul class="picker-grid">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10</li>
        <li>11</li>
        <li>12</li>
    </ul>
</div>

<script>
document.getElementById('picker').children[0].addEventListener('wheel', function(e) {
    let isMouseWheel = false;
    if (typeof(e.wheelDelta) !== 'undefined') {
        // The event is fired by a mouse wheel if the wheelDelta is a multiple of 120
        isMouseWheel = e.wheelDelta % 120 === 0;
    } else if (typeof(e.detail) !== 'undefined') {
        // The event is fired by a mouse wheel if the detail is a multiple of 3
        isMouseWheel = e.detail % 3 === 0;
    }

    if (isMouseWheel) {
        // Prevent the default scroll behavior
        e.preventDefault();
        // Determine the scroll direction: positive for down, negative for up
        let scrollDirection = Math.sign(e.deltaY);
        // Scroll the content by one line (change the value 20 to adjust the line height)
        this.scrollBy(0, 40 * scrollDirection);

    }
}, { passive: false });

let isMouseDown = false;
let startY;  // Stores the Y-coordinate where the mouse was pressed
let startScroll;  // Initial scroll position
let element = document.getElementById('picker').children[0];

element.addEventListener('mousedown', function(e) {
    isMouseDown = true;
    startY = e.clientY;  // Get the current Y-coordinate
    startScroll = this.scrollTop;  // Get the current scroll position
    this.classList.remove('picker-grid');
});

element.addEventListener('mousemove', function(e) {
    if (!isMouseDown) return;  // If the mouse isn't pressed, don't do anything
    e.preventDefault();  // Prevent the default drag behavior

    // Calculate the difference between current Y-coordinate and starting Y-coordinate
    let yDiff = e.clientY - startY;

    // Set the scroll position based on the initial scroll and the mouse movement
    let s = this;
    requestAnimationFrame(function() {
        s.scrollTop = startScroll - yDiff;
    })

});

document.addEventListener('mouseup', function() {
    isMouseDown = false;  // Set the flag to false when mouse is released
    element.classList.remove('picker-grid');
    element.scrollTo({
        behavior: "smooth",
        top: Math.round(element.scrollTop / 40) * 40
    })
});
</script>

</body>
</html>
